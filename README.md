# ğŸš€ agentic-cicd: Automate GitLab CI/CD with Natural Language + AI

> â€œAutomate your GitLab CI/CD workflows using natural language â€” powered by AI and Google Cloud.â€

---

## âœ¨ Overview

**`agentic-cicd`** is an intelligent DevOps agent that allows users to automate complex GitLab CI/CD workflows simply by describing what they want in natural language.

It bridges **natural language commands** and **real infrastructure changes** by using an AI-driven **multi-agent system** that understands, generates, pushes, and monitors CI/CD pipelines on **GitLab**.

Whether you're a developer looking to set up a CI/CD pipeline or an ops engineer handling deployments â€” this tool simplifies GitLab automation through **LLMs + agents + MCP tool servers.**

---

## ğŸ“Ÿï¸ Demo

Coming Soon...

---

## ğŸ§  Key Features

* ğŸ” **GitLab OAuth Integration** â€“ Connect your GitLab account securely.

* ğŸ’¬ **Natural Language Input** â€“ Describe what you want, like:

  ```
  Set up CI to run tests on push and deploy to GKE when main branch is updated.
  ```

* ğŸ¤– **Multi-Agent AI Engine** â€“ Understands the request and plans accordingly.

* âš™ï¸ **Pipeline & Infra Generation** â€“ Generates `.gitlab-ci.yml`, Dockerfile, Terraform, Helm config, etc.

* â†» **Push + Merge Request** â€“ Pushes the generated files to your GitLab repo and opens an MR.

* ğŸ” **Pipeline Monitoring** â€“ Optionally track status of the build, test, and deployment stages.

* ğŸ§¹ **MCP Server/Client Architecture** â€“ Modular tool abstraction to interface with GitLab API via agents.

---

## ğŸ§¹ Architecture

### â†» System Flow

```mermaid
graph TD
    A[User Natural Language Request] --> B[Frontend React App]
    B --> C[OAuth Callback + Token Storage]
    C --> D[LangGraph Supervisor Agent]
    D --> E1[Plan Agent (Creates PLan for the user queries)]
    D --> E2[Code Agent (Generate YAML/Docker/Terraform)]
    D --> E3[Test Agent (Executes the code generated by Code Agent before running in the Pipeline directly)]
    D --> E4[Chat Agent (Connect with the GitLab MCP server and performs all the necessary tasks)]
    E3 --> F[MCP GitLab Tool Server]
    F --> G[GitLab REST API]
    G --> H[User's GitLab Projects]
```

---
## ğŸ§  Multi-Agent Architecture â€“ LangGraphJS Supervisor Pattern

This project follows the [LangGraphJS Multi-Agent Supervisor Pattern](https://js.langgraph.dev/guides/multi-agent/) to automate GitLab CI/CD workflows using natural language commands.

---

### ğŸ§‘â€âš–ï¸ 1. **Supervisor Agent**

- The central decision-maker.
- Receives **natural language input** from the user.
- Maintains **shared memory** and execution state across agents.
- Dynamically delegates to sub-agents using a **graph-based control flow**.

---

### ğŸ”„ Agent Workflow Graph

The Supervisor uses LangGraph to define a **directed graph of agents**, where edges represent conditional flows based on task results.

---

### ğŸ¤– Sub-Agents

Each agent handles a distinct responsibility within the pipeline.

---

### ğŸ§­ `PlanAgent`

> _â€œUnderstand what needs to be done.â€_

- Parses user intent and decomposes it into logical subtasks.
- Understands GitLab CI/CD terminology and translates user commands accordingly.
- Outputs a plan with goals such as:
  - Generate `.gitlab-ci.yml`
  - Create `Dockerfile`
  - Define cloud deployment strategy (e.g., GKE)

---

### ğŸ§‘â€ğŸ’» `CodeAgent`

> _â€œWrite the code/configuration needed.â€_

- Converts the structured plan into CI/CD artifacts such as:
  - `.gitlab-ci.yml`
  - `Dockerfile`
  - `Terraform` / `Helm` configurations
- Adapts generation based on selected cloud providers (GCP, AWS, etc.)
- Can scaffold standard GitLab CI templates dynamically.

---

### ğŸ§ª `TestAgent`

> _â€œValidate the configuration before use.â€_

- Runs tests on generated configuration to ensure correctness.
- Performs:
  - YAML linting / CI syntax validation
  - Dry-run of GitLab CI if applicable
  - Optional LLM-assisted analysis of pipeline logic

---

### ğŸ’¬ `ChatAgent`

> _â€œExplain whatâ€™s happening or answer user queries.â€_

- Maintains conversation with the user.
- Can answer questions like:
  - "What is this pipeline doing?"
  - "Why did my build fail?"
- Pushes updates about:
  - MR creation
  - Pipeline execution
  - Deployment status
- Can re-prompt for missing details if required

---

## ğŸ”§ GitLab MCP Tool Server (Tool Use via API)

Agents like `CodeAgent` and `ChatAgent` interact with GitLab via a **dedicated Tool Server** (GitLab MCP Server).

### ğŸ›  MCP GitLab Tool Server

- A REST API wrapper around GitLabâ€™s official APIs.
- Allows fine-grained agent control over GitLab actions like:
  - Getting project info
  - Creating branches/commits
  - Listing and triggering pipelines
  - Monitoring job statuses
  - Opening Merge Requests

---

### ğŸ¤ MCP Client

- Each agent uses an **MCP Client** to communicate with the Tool Server.
- Benefits:
  - Keeps logic clean and separated from direct API calls.
  - Enables observability, tracing, and debugging of agent decisions.
  - Makes actions reversible and replicable.

---

## ğŸ”„ Feedback Loop

1. **User Input**  
   > â€œSet up CI to run tests on push and deploy to GKE when main is updated.â€

2. **Supervisor Flow**
   - `PlanAgent` â†’ Understands the request and breaks into subgoals.
   - `CodeAgent` â†’ Generates `.gitlab-ci.yml`, `Dockerfile`, etc.
   - `TestAgent` â†’ Validates the generated files.
   - `GitLab MCP Server` â†’ Applies the changes via GitLab API (opens MR).
   - `ChatAgent` â†’ Informs the user and monitors progress.

3. **Pipeline Execution**
   - GitLab CI is triggered.
   - Status is periodically updated to the user.

---

## âœ… Why LangGraphJS?

- **Structured Reasoning**  
  Flow is modeled as a directed graph for better traceability and control.

- **Shared Memory Across Agents**  
  All agents work with a centralized state context.

- **Retries and Fallbacks**  
  Automatically retry failed tasks or re-ask user when needed.

- **Plug-and-Play Agents**  
  Each agent is modular, testable, and can be extended independently.

---

> âœ¨ The result is a natural-language-driven GitLab CI/CD automation system powered by intelligent agents, tailored infrastructure, and real-time feedback â€“ all orchestrated via LangGraph.


### ğŸ” Authorization:

* Uses the userâ€™s OAuth token to act on their behalf.
* Each API call is scoped by the GitLab OAuth access token.

---

## ğŸ’½ Tech Stack

| Layer       | Tech                                 |
| ----------- | ------------------------------------ |
| Frontend    | React, React Router, Vite, Tailwind  |
| Backend     | Node.js, Express, Supabase           |
| AI Agents   | LangGraphJS, LangChainJS, Gemini/GPT |
| Auth        | GitLab OAuth 2.0                     |
| Infra Tools | Docker, Terraform, Helm (generated)  |
| Hosting     | Vercel (frontend), Render (backend)  |

---

## ğŸš€ Getting Started

### 1. Clone the Repository

```bash
git clone https://github.com/your-org/agentic-cicd.git
cd agentic-cicd
```

---

### 2. Frontend Setup

```bash
cd frontend
npm install
```

Create a `.env` file:

```env
VITE_BACKEND_URL=https://your-backend-url.onrender.com
VITE_GITLAB_CLIENT_ID=your_gitlab_client_id
VITE_REDIRECT_URI=https://your-frontend-url.vercel.app/oauth/callback
```

```bash
npm run dev
```

---

### 3. Backend Setup

```bash
cd backend
npm install
```

`.env` file:

```env
GITLAB_CLIENT_ID=your_gitlab_client_id
GITLAB_CLIENT_SECRET=your_gitlab_client_secret
GITLAB_REDIRECT_URI=https://your-frontend-url.vercel.app/oauth/callback

SUPABASE_URL=your_supabase_url
SUPABASE_KEY=your_supabase_key

GOOGLE_API_KEY=your_gemini_api_key
TAVUS_API_KEY=your_tavus_key
```

Build and Run:

```bash
npm run build
npm run start
```

---

## ğŸ§ª Usage

1. Go to the app homepage.

2. Click "Connect GitLab" and authorize access.

3. Enter your command like:

   ```
   Set up CI to run tests on push and deploy to GKE when main branch is updated.
   ```

4. Agent will:

   * Understand your intent
   * Generate `.gitlab-ci.yml` and Dockerfile
   * Push to a new branch
   * Open a merge request
   * Trigger a pipeline

5. Watch pipeline logs via GitLab or frontend.

---

## â˜ï¸ Deployment Guide

### Frontend (Vercel)

1. Link GitHub Repo â†’ Vercel Dashboard
2. Set environment variables in Settings
3. Deploy

### Backend (Render)

1. Create new Web Service â†’ Connect to GitHub
2. Build Command: `npm run build`
3. Start Command: `node dist/index.js`
4. Add your environment variables

---

## â— Troubleshooting

| Issue                | Fix                                                       |
| -------------------- | --------------------------------------------------------- |
| `CORS error`         | Ensure backend sets correct `Access-Control-Allow-Origin` |
| `OAuth redirect 404` | Check GitLab app redirect URI matches deployed frontend   |
| `Failed to fetch`    | Backend must be live + CORS enabled                       |
| `503 MCP Init`       | GitLab token expired or MCP endpoint down                 |
| `CI config invalid`  | Re-run or correct command syntax                          |

---

## ğŸ¤ Contributing

We welcome PRs and ideas!

```bash
# Fork -> Clone -> Create Branch -> Code -> Commit -> PR
```

Please open issues for:

* Bugs
* New agent tasks
* GitLab features you'd like automated

---

## ğŸ“„ License

MIT License Â© 2025 MemeVerse CICD Dev Team

---

## ğŸ’¡ Inspired By

* [LangGraph](https://www.langgraph.dev/)
* [LangChainJS](https://js.langchain.com/)
* [GitLab API](https://docs.gitlab.com/ee/api/)
* [MCP](https://modelcontextprotocol.io/introduction)
* [Google Gemini](https://ai.google.dev/)

---

## ğŸ—‚ï¸ Folder Structure (Simplified)

```
agentic-cicd/
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ App.jsx
â”‚   â”œâ”€â”€ pages/
â”‚   â””â”€â”€ components/
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ routes/
â”‚   |â”€â”€ services/
|-â”€ mcp-server/
â”‚
â”œâ”€â”€ .env.example
â””â”€â”€ README.md
```

---

## ğŸ“¬ Contact

For inquiries or collaborations:
ğŸ“§ **[you@example.com](mailto:shalwinsanju.25cs@licet.ac.in)**
ğŸ¦ Twitter: [@yourhandle](https://twitter.com/samshalwin)

---
